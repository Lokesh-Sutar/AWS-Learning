# S3
- Object level storage
- One of the important and cost effective service
- It stores different types of data like Photos, Audio, and Videos as Objects.

## Types of S3 Entities

### 1. Bucket
- A bucket is a container for objects stored in Amazon S3
- Is like main folder were you can upload your files and folders (Objects).
- You can create 100 Buckets per account.
- All the data stored inside the bucket is **Encrypted**
- Bucket should be empty before deleting the bucket.

#### Rules for Bucket Creation-
- Bucket names must be globally unique across all of AWS. No two buckets can have the same name.
- Must be between 3 and 63 characters long.
- Can only contain lowercase letters, numbers, hyphens (-), and periods (.), **No Uppercase letters**.
- Must start and end with a lowercase letter or number.
- Should not be formatted as IP addresses (e.g., 192.168.1.1).
- A bucket has no limit to the amount of objects that it can store.
- No bucket can exist inside of other buckets.
- You can create up to 100 buckets in each of your AWS cloud accounts, with no limit on the number of objects you can store in a bucket.


### 2. Object
- Every entities (files & folders) are called objects
- Maximum size of each object is 5TB
- No limitation on number of objects to upload

### 3. Key
- A key is a unique identifier for an object.
- It is basically a path to locate the object.
- Every object in a bucket is associated with one key.
- eg. `key:Bucket123/folder1/file1.txt`


## Versioning in S3
- Versioning is a means of keeping multiple variants of an object in the same bucket
- It is like git version control system
- Every latest changes in file will become **current version**
- When you delete an object in a versioned bucket, S3 does not permanently remove the object. Instead, it creates a "delete marker" that becomes the current version. The actual object still exists and can be restored if needed by deleting the "delete marker" object.
- To delete the object permanently you have to enable "Show Versions" and then delete versions of file.

### Use Case
- To Store codes/repo
- To Host Website
- To Store Backups

## Storage Classes

### 1. Standard Storage Class
- This is default Storage Class.
- Ensures Durability of 99.999999999% (11 9’s) and Availability of 99.99%.
- Used for Frequently accessed data where low latency is critical.
- This is most expensive storage class.
- Charges according to size of data.
- Whenever you upload a data, it remains in "standard storage class" for initial 30 days.

### 2. S3 Standard-Infrequent Access
- Used for less accessed data
- Good for backups
- Less Charges as compared to "Standard Storage Class"
- Charges according to number of access, not on size of data

### 3. S3 One Zone-Infrequent Access
- Used to store re-creatable data
- Charges are less as compared to "S3 Standard-Infrequent Access"
- Stores data in a single Availability Zone
- Provides you the same high durability, high throughput, and low latency as in "Standard Storage Class"
- Ensures Durability of 99.999999999% (11 9’s) and Availability of 99.5%.

### 4. S3 Intelligent-Tiering
- Automated Cost Optimization for Data with Unknown Access Patterns
- Optimizes costs by automatically moving objects between two access tiers (frequent and infrequent) based on changing access patterns.
- Ensures Durability of 99.999999999% (11 9’s) and Availability of 99.99%.
- Used for Data with unknown or changing access patterns.

### 5. S3 Glacier
- It designed for long-term archival and infrequent access.
- High Latency (Retrival Time/Speed)
- Used for Long-term archival storage with retrieval times ranging from minutes to hours.
- Ensures Durability of 99.999999999% (11 9’s) and Availability of 99.99%.
- Cost is Very low for storage and retrieval costs vary based on retrieval speed.

### 6. S3 Glacier Deep Archive
- It is lowest-cost storage class within Amazon S3
- Specifically designed for long-term archival of data that is rarely accessed.
- Used for Long-term archival of data that is rarely accessed, with retrieval times of up to 12 hours.
- Ensures Durability of 99.999999999% (11 9’s) and Availability of 99.99%.

## Management
- It is a part of S3 Bucket
- Used to create Rules for changing storage class, deletion, making copies, Invetory Configurations. 

### Lifecycle Rules
- Manages Transition, Deletion, Deletion of multipart downloads like operations
- It applicable to specific objects with fixed prefix OR all objects.
- Used to automatically change storage class after certain days (Transitioning).

### Replication Rules
- Used to create copies of objects in bucket
- Can create copies into same region or another region(cross region)
- Requires to mention IAM Role, otherwise the IAM Role gets created automatically
- We cannot choose same bucket as Destination Bucket
- Versioning should be enabled in Destination Bucket

